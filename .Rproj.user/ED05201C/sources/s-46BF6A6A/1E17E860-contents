#' @title Add date, year, and survey ID columns
#'
#' @description For soil data, adds columns with date formatted as a date object in R, year as a numeric object, and Survey as a character object that inludes the point name and the survey year
#' @description Also adds columns that display BD and Infiltration diameter, height, and volume, and one that converts infiltration times to minutes shown as a base-10 decimal numeric
#' @description Interprets date formate automatically with read.date()
#'
#' @param data
#' @param inf_diameter
#' @param bd_diameter
#' @param volume
#' @param bd_height
#'
#'
#' @return data frame with added columns
#'
#' @examples data = add_datetime(data)
#' @examples x = add_datetime(soildata)
#'
#' @export add.soilcolumns
#'
#'
# Some useful keyboard shortcuts for package authoring:
#
#   Build and Reload Package:  'Ctrl + Shift + B'
#   Check Package:             'Ctrl + Shift + E'
#   Test Package:              'Ctrl + Shift + T'





add.soilcolumns = function(data, inf_diameter = 15.2, bd_diameter = 5.2, volume = 450, bd_height = 7.5){

  newstuff = data


  #interpret date, isolate year as column
  newstuff$DATE = read.date(newstuff$Date)
  newstuff$YEAR = year(newstuff$DATE)
  newstuff$SURVEY = as.factor(paste(newstuff$Point.Name,"-",newstuff$YEAR,sep=""))

#
#   ## add some simple data about our measurements
#   newstuff$Ring.Infiltrometer.Diameter<-inf_diameter
#   newstuff$Bulk.Density.Diameter<-bd_diameter
#   newstuff$Water.Volume<-volume
#   newstuff$Bulk.Density.Height<-bd_height
#   newstuff$Total.Volume<-pi*((newstuff$Bulk.Density.Diameter/2)^2)*newstuff$Bulk.Density.Height
#   newstuff$Bulk.Density<-(newstuff$Bulk.Density.Dry.Wt/(newstuff$Total.Volume-newstuff$Bulk.Density.Rock.Vol))
#   newstuff[,"Bulk.Density"][newstuff[,"Bulk.Density"] <= 0] <- NA
#
#   #convert water infiltration time to minutes in base-ten decimal
#   newstuff[,"Water.Infiltration.Time.1"][newstuff[,as.character("Water.Infiltration.Time.1")] == ""] <- "00:00:00"
#   newstuff$ISec1<-NULL
#   newstuff$ISec1<-toSeconds(as.character(newstuff$Water.Infiltration.Time.1))
#   newstuff$ISec1<-newstuff$ISec1/60

  return(newstuff)


}
